<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Koora Forja</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background-color: #000; color: #ffd700; }
    .match-card { background: #111; border: 1px solid #333; border-radius: 12px; padding: 10px; margin: 10px 0; }
    .match-card:hover { background: #222; }
  </style>
</head>
<body class="font-sans p-4">
  <header class="text-center mb-4">
    <h1 class="text-3xl font-bold mb-2">âš½ Koora Forja</h1>
    <button id="langToggle" class="text-sm bg-yellow-600 px-2 py-1 rounded">AR / EN</button>
  </header>

  <main id="matchesContainer" class="space-y-2"></main>

  <footer class="text-center text-xs mt-4 opacity-70">
    Â© 2025 Koora Forja | Powered by TheSportsDB API
  </footer>

  <script>
    const API_BASE = 'https://koora-forja-backend.onrender.com/api';
    const matchesContainer = document.getElementById('matchesContainer');
    const langToggle = document.getElementById('langToggle');
    let currentLang = 'ar';

    function renderMatches(matches) {
      matchesContainer.innerHTML = '';
      matches.forEach(m => {
        const card = document.createElement('div');
        card.className = 'match-card';
        card.innerHTML = `
          <div class="text-lg font-semibold">${m.home} ğŸ†š ${m.away}</div>
          <div class="text-sm">${m.league}</div>
          <div class="text-sm">ğŸ•’ ${m.time}</div>
          <div class="text-sm">ğŸ“º ${m.channels.join(', ')}</div>
        `;
        matchesContainer.appendChild(card);
      });
    }

    async function fetchMatches() {
      try {
        const res = await fetch(\`\${API_BASE}/matches\`);
        const data = await res.json();
        renderMatches(data);
      } catch (err) {
        matchesContainer.innerHTML = '<p class="text-center text-red-500">âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>';
      }
    }

    langToggle.addEventListener('click', () => {
      currentLang = currentLang === 'ar' ? 'en' : 'ar';
      document.body.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
    });

    fetchMatches();
  </script>
</body><!-- ğŸ† Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª -->
<section id="leagues" class="mt-8 text-center">
  <h2 style="color: gold; font-size: 22px; margin-bottom: 10px;">ğŸ† Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª Ø§Ù„ÙƒØ¨Ø±Ù‰</h2>
  <div id="leagueList" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px;">
    <!-- Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª ÙƒÙŠØªØ²Ø§Ø¯Ùˆ Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒÙŠØ§Ù‹ Ù…Ù† JavaScript -->
  </div>
</section>

<script>
  const leagues = [
    { id: 4328, name: 'Premier League', flag: 'ğŸ‡¬ğŸ‡§' },
    { id: 4335, name: 'La Liga', flag: 'ğŸ‡ªğŸ‡¸' },
    { id: 4331, name: 'Serie A', flag: 'ğŸ‡®ğŸ‡¹' },
    { id: 4332, name: 'Bundesliga', flag: 'ğŸ‡©ğŸ‡ª' },
    { id: 4334, name: 'Ligue 1', flag: 'ğŸ‡«ğŸ‡·' },
    { id: 4350, name: 'Botola Pro', flag: 'ğŸ‡²ğŸ‡¦' }
  ];

  const leagueList = document.getElementById('leagueList');
  leagues.forEach(league => {
    const div = document.createElement('div');
    div.style.cssText = `
      background: black;
      color: gold;
      border: 1px solid gold;
      border-radius: 10px;
      padding: 10px 20px;
      cursor: pointer;
      font-weight: bold;
    `;
    div.textContent = `${league.flag} ${league.name}`;
    div.onclick = () => showLeagueMatches(league.id);
    leagueList.appendChild(div);
  });

  async function showLeagueMatches(leagueId) {
    const res = await fetch(`${API_BASE}/leagues/${leagueId}/matches`);
    const data = await res.json();
    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø§ØªØ´Ø§Øª
    const matchList = document.getElementById('matchList');
    matchList.innerHTML = '';
    data.matches.forEach(match => {
      const li = document.createElement('li');
      li.textContent = `${match.strHomeTeam} vs ${match.strAwayTeam} - ${match.dateEvent}`;
      matchList.appendChild(li);
    });
  }
</script>
</html>
